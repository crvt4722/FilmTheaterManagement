 <!-- <%@page contentType="text/html" pageEncoding="UTF-8"%>  -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang chủ</title>

    <!-- <link rel="stylesheet" href="./assets/css/footer.css"> -->
    <link rel="stylesheet" href="/css/modal.css">

    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <link rel="stylesheet" type="text/css" href="/css/base.css">
    <link rel="stylesheet" type="text/css" href="/css/main.css">
    <!--  <link rel="stylesheet" type="text/css" href="/css/all.min.css"> --> 
    <link rel="stylesheet" type="text/css" href="/css/all.css">

    <link rel="icon" href="/pictures/logo.jpg" type="image/x-icon" />

    <!-- ReactJs -->
    <script crossorigin src="https://unpkg.com/react@17.0.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17.0.0/umd/react-dom.production.min.js"></script> 
    <!-- <script src="./includes/include.js"></script> -->
</head>
<body>
    <div class="header" w3-include-html="./includes/header.html">
        <div class="header-wrapper">
        
            <div class="slogan" >LionelRonaldo Movie Theater</div>            
            
            <div class="header-wrapper__icon">
                <span class="profile-name" style = "background-color: black; font-weight: 500; border-radius: 10px; padding: 5px 5px;">
                    <!-- <% String username = (String)session.getAttribute("username")==null? "": (String)session.getAttribute("username"); %>
                    <%=username%> -->
                     <i class="fa-solid fa-power-off"></i>
                </span>
                
                <a href="#"><i class="fa-brands fa-facebook"></i></a>
                <a href="#"><i class="fa-brands fa-instagram"></i></a>
                <a href="#"><i class="fa-brands fa-youtube"></i></a>
            </div>
        </div>
        <div class="main-menu">
            <div class="main-menu__items">
                <div class="main-menu__items__img">
                    <img  src="/pictures/web_name.jpg">
                </div>
               <div class="main-menu__item"><a href="/">Trang chủ</a></div>
                <div class="main-menu__item"><a href="/exchange-giftitem">Đổi điểm khách hàng</a></div>
                <div class="main-menu__item item--comunity"><a href="/customer-revenue">Thống kê khách hàng theo doanh thu</a></div>
                <div class="main-menu__item item--shopping"><a href="/room">Cập nhật thông tin ghế ngồi</a></div>

                
            </div>
    
            <div class="search-login">                           
                
                <!-- <% if (session.getAttribute("username")== null ) { %> -->
                <div class="login-btn">ĐĂNG NHẬP</div>
                <div  style="cursor: pointer;"><a href="gdDangKy606.html" style="text-decoration: none; color: #B3C591">ĐĂNG KÝ</a></div>
                <!-- <% } %>  -->
            </div>
    
        </div>    
    </div>

    <div id="slider">
        <div class="slider__main">
            <img src="/pictures/rosi1.jpg" id="slider__img">
            <div class="control prev"><i class="fa-sharp fa-solid fa-chevron-left"></i></i></div>
            <div class="control next"><i class="fa-sharp fa-solid fa-chevron-right"></i></div>
            <div class="control play"><i class="fa-solid fa-play"></i></div>
            <div class="control stop"><i class="fa-solid fa-stop"></i></div>
        </div>
    </div>

<div class="modal login">
    <div class="modal-container__login">
        <div class="modal-header">
            <i class="modal-close__login fa-solid fa-xmark"></i>
            <div class="modal__web-name">
                
                <h3>    <span class="modal-header__span1">Lionel</span><span class="modal-header__span2">Ronaldo</span></h3>
                <p>Be served you is our honor!</p>
            </div>
            
        </div>

        

        <div class="alert-danger__login"></div>

        <form class="modal-content" action="ProcessDangNhap">
            
            <div class="label-container">
                <label for="email__login" class="modal-label">
                    <i class="fa-solid fa-user"></i> Tên đăng nhập
                </label>

                <label for="password__login" class="modal-label">
                    <i class="fa-solid fa-lock"></i></i> Mật khẩu
                </label>

                
            </div>

            <div class="input-container">
                <input id='email__login' name= 'username__login' type="text" required placeholder="">
                <input id='password__login' name = 'password__login' type="password" required>
                
            </div>    
            <button type="submit" class="modal-submit-btn">Đăng nhập</button>
            
        </form>

        <div class="modal-or">
            <div></div>
            <span>or</span>
            <div></div>
        </div>

        <div class="modal-social">
            <div class="modal-social__google">
                <i class="fa-brands fa-google"></i>
                Google
            </div>

            <div class="modal-social__facebook">
                <i class="fa-brands fa-facebook"></i>
                Facebook
            </div>
        </div>
    </div>
</div>

    <script src="js/main.js" > </script>    
    <script src="js/header.js" > </script>
    <script>
        function addModalJs(){            
            const modalLogin = document.querySelector('.modal.login')            
            const modalContainerLogin = document.querySelector('.modal-container__login')            
            const modalCloseLogin = document.querySelector('.modal-close__login')            
            const loginBtn = document.querySelector('.login-btn')
            
            
            function showModal(modal){
                modal.classList.add('open')
            }

            function hideModal(modal){
                modal.classList.remove('open')
                if(modalSignup.classList.contains('open') == false){
                    document.querySelector('#fullname__signup').value = ''
                    document.querySelector('#email__signup').value = ''
                    document.querySelector('#password__signup').value = ''
                    document.querySelector('#repassword__signup').value = ''
                }
                
                if(modalLogin.classList.contains('open') == false){
                    document.querySelector('#email__login').value = ''
                    document.querySelector('#password__login').value = ''
                }
            }
                        
            loginBtn.addEventListener('click', showModal.bind(this, modalLogin))
            modalCloseLogin.addEventListener('click', hideModal.bind(this, modalLogin))
            modalLogin.addEventListener('click', hideModal.bind(this,modalLogin))            
            modalContainerLogin.addEventListener('click', (e) => e.stopPropagation())
           
        }
        
        setTimeout(addModalJs, 10);
        
        setTimeout(()=>{
            const logoutBtn = document.querySelector('.fa-power-off')

            logoutBtn.addEventListener('click', (e)=>{
                e.preventDefault()
                console.log('logout')
                let xhr = new XMLHttpRequest()
                xhr.open('POST', '/LionelRonaldoSupermarket/ProcessLogout', true)
                xhr.setRequestHeader('Content-Type', 'application/json')
                xhr.onreadystatechange = function() {
                    if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
                      console.log(1111)
                    }
                  };
                xhr.send()
                
                setTimeout(()=>{
                    location.reload()
                },100)
            })
        }, 1000)
        
        
        let xhr = new XMLHttpRequest()
        xhr.open('GET', '/LionelRonaldoSupermarket/ProcessQuanLyTruyCap', true)
        xhr.setRequestHeader('Content-Type', 'application/json')
        xhr.onreadystatechange = function() {
            if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
              let responseMessage = xhr.responseText
              if (responseMessage == 'DENY') {
                  const thongKeNavigator = document.querySelector('.thong__ke')
                  thongKeNavigator.style.display = 'none'
              }
            }
          };
        xhr.send()
        'use strict'

// Header

/* let headerWrapperIcon = document.querySelector('.header-wrapper__icon')

setInterval(function(){
    headerWrapperIcon.style.display = 'flex'
}, 350)

setInterval(function(){
    headerWrapperIcon.style.display = 'none'
}, 700) */

let headerWrapper = document.querySelector('.header-wrapper')

function setBackgroundColor(color) {
    headerWrapper.style = `background-color: ${color};`
}

// setInterval(setBackgroundColor.bind(this, '#AF1685'), 20000)
// setInterval(setBackgroundColor.bind(this, 'rgb(154, 169, 179)'), 5000)
// setInterval(setBackgroundColor.bind(this, 'rgb(92, 78, 57)'), 10000)
// setBackgroundColor('#AF1685')
// setTimeout(setBackgroundColor.bind(this, 'black'), 10000)

// Slider

let sliderImg = document.getElementById('slider__img')
let controlPrev = document.querySelector('.prev')
let controlNext = document.querySelector('.next')

var cnt = 1

// The function to be controlled the slider with the next and prev buttons.
function controlSlider(option){
    if(option == 'next'){
        cnt = (cnt + 1)%6
        if (cnt == 0) cnt = 1
    }
    else {
        cnt = (cnt - 1)%6
        if (cnt == 0) cnt = 5
    }
    let path = '/pictures/rosi' +cnt +'.jpg'
    sliderImg.src = path
}

controlNext.addEventListener('click', controlSlider.bind(this,'next'))
controlPrev.addEventListener('click', controlSlider.bind(this,'prev'))

// Auto run slider: Default
let controlPlay = document.querySelector('.play')
let controlStop = document.querySelector('.stop')
var autoRunSlider = setInterval(controlSlider.bind(this, 'next'), 5000)

controlStop.addEventListener('click', () => {
    clearInterval(autoRunSlider)
})

controlPlay.addEventListener('click', function(){
    autoRunSlider = setInterval(controlSlider.bind(this, 'next'), 5000)
})


    </script>
</body>
</html>